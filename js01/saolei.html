<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <style>
			body{
				width: 100%;
				height: 100%;
				margin: 0;
				padding: 0;
			}
			 #sl{
			 	float: left;
                margin-left: 30%;
                margin-top: 250px;
			 }
			#sl span{
				display: inline-block;
				width: 29px;
				height: 29px;
				border: 1px solid #ddd;
				float: left;
				background: #7092BE;
				cursor: pointer;
				font-size: 14px;
				text-align: center;
				line-height: 29px;
			}
			 #sl span:hover{
			 	background: pink;
			 }
			 #sl span.boom{
			 	background-color: #000;
			 }
			 #sl span.saf{
			 	background-color:white;
			 }
			 
        </style>
    </head>
    <body>
    <div id="sl"></div>
    <script type="text/javascript">
    	// var arr=[
    	// 			[0,1,0,0,1,0,0,0,1,0],
    	// 			[0,1,0,0,0,0,0,0,1,0],
    	// 			[0,0,0,0,0,0,0,0,0,1],
    	// 			[0,0,0,0,0,1,0,0,1,0],
    	// 			[0,0,1,0,0,0,0,0,0,0],
    	// 			[0,0,0,0,1,0,0,0,0,0],
    	// 			[0,1,0,0,0,0,1,0,1,0],
    	// 			[0,0,0,0,1,0,0,0,0,0],
    	// 			[0,0,0,0,1,0,1,0,1,0],
    	// 			[1,0,0,1,0,0,0,0,1,0],
    	//         ];
        
          //随机生成数组
          function array(){
             var arr=new Array();
            for(var i=0;i<10;i++){
                arr[i]=new Array();
                for(var j=0;j<10;j++){
                    arr[i][j]=Math.floor(Math.random()*10);
                }
            }
            return arr;
          }
           
        //画棋盘
    	function draw(arr){ 
    		var html="";
    	    for(var i=0;i<arr.length;i++){
    	        	for(var j=0;j<arr[i].length;j++){
    	        		html+="<span onclick='myClick("+i+","+j+",this)'></span>";
    	        		
    	        	}
    	        	html+="<br>";
    	    }sl.innerHTML=html;
    	}  
        var arr=array();
        draw(arr);
        //开始扫雷
    	function myClick(i,j,block){
    		if(arr[i][j]===1){
    			block.className+=" boom";
    			alert("点到雷了，游戏结束");
    			var flag=String(prompt("再玩一局","请输入yes或no"));
    			if(flag==="yes"){
    				draw(arr2);
    			}
    		}else{
                 var count=0;
                 for(var x=i-1;x<=i+1;x++){
                    for(var y=j-1;y<=j+1;y++){
                        if( x<0||y<0||x>=arr.length||y>=arr[j].length){
                            continue;
                        } 
                         if(arr[x]&&arr[x][y]&&arr[x][y]===1){
                             count++;
                         }                          
                    }
                 }
                block.className+=" saf";
                block.innerHTML=count?count:"";
            }    			
    	}
    </script>
    </body>
</html>